% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/widgets.R
\name{createWidget}
\alias{createWidget}
\title{Create a TypeScript-Compatible Widget}
\usage{
createWidget(
  name,
  properties = list(),
  initialize = NULL,
  methods = list(),
  ...
)
}
\arguments{
\item{name}{Character string specifying the name of the widget class}

\item{properties}{Named list of typed properties for the widget. Each property
should be a TypeScript type object that defines the property's type}

\item{initialize}{Optional initialization function that receives the widget
instance and sets up initial state}

\item{methods}{Named list of methods to add to the widget class. Each method
should be a \code{ts_function} object}

\item{...}{Additional arguments passed to the TypeScript function constructor}
}
\value{
A TypeScript function constructor that creates widget instances with
reactive properties and methods for TypeScript interoperability
}
\description{
Creates a reference class-based widget that can interact with TypeScript code.
The widget supports reactive properties that can be observed from both R and
TypeScript, with automatic state synchronization.
}
\details{
Note that the object constructed takes a Javascript setter function as argument, so calling \code{obj$call()} will fail.

The created widget includes built-in methods:
\itemize{
\item \code{set(prop, value)}: Set a property value and mark it as changed
\item \code{get(prop)}: Get a property value
\item \code{addPropHandler(prop, fn)}: Register a handler for property changes
\item \code{updateState(all = FALSE)}: Synchronize changed properties to TypeScript
}

Each property automatically gets TypeScript-accessible methods:
\itemize{
\item \code{register(fn)}: Register a callback for property changes
\item \code{get()}: Get the current property value
\item \code{set(x)}: Set the property value
}
}
\examples{
# Create a simple counter widget

createWidget(
    name = "Counter",
    properties = list(count = ts_integer(1)),
    initialize = function(widget) {
        widget$set("count", 0)
    }
)
}
